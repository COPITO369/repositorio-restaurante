/*!
 * Start Bootstrap - Freelancer v5.1.3 (https://startbootstrap.com/template-overviews/freelancer)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-freelancer/blob/master/LICENSE)
 */

function Calendar(e,t,a,n){this.id=e,this.size=t,this.labelSettings=a,this.colors=n,months=["January","February","March","April","May","June","July","August","September","October","November","December"],label=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.months=months,this.label=[],this.labels=[];for(var i=0;i<7;i++)this.label.push(label[label.indexOf(a[0])+this.label.length>=label.length?Math.abs(label.length-(label.indexOf(a[0])+this.label.length)):label.indexOf(a[0])+this.label.length]);for(i=0;i<7;i++)this.labels.push(this.label[i].substring(0,3<a[1]?3:a[1]));this.date=new Date,this.draw(),this.update()}function Organizer(e,t){this.id=e,this.calendar=t,this.draw(),this.update()}(Calendar.prototype.constructor=Calendar).prototype.draw=function(){backSvg='<svg style="width: 24px; height: 24px;" viewBox="0 0 24 24"><path fill="'+this.colors[3]+'" d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"></path></svg>',nextSvg='<svg style="width: 24px; height: 24px;" viewBox="0 0 24 24"><path fill="'+this.colors[3]+'" d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></svg>',theCalendar=document.createElement("DIV"),theCalendar.className="calendar "+this.size,document.getElementById(this.id).appendChild(theCalendar),theContainers=[],theNames=["year","month","labels","days"];for(var e=0;e<theNames.length;e++)theContainers[e]=document.createElement("DIV"),theContainers[e].className=theNames[e],"days"!=theNames[e]&&("month"!=theNames[e]?(theContainers[e].style.backgroundColor=this.colors[1],theContainers[e].style.color=this.colors[3],"labels"!=theNames[e]&&(backSlider=document.createElement("DIV"),backSlider.id=this.id+"-year-back",backSlider.insertAdjacentHTML("beforeend",backSvg),theContainers[e].appendChild(backSlider),theText=document.createElement("SPAN"),theText.id=this.id+"-"+theNames[e],theContainers[e].appendChild(theText),nextSlider=document.createElement("DIV"),nextSlider.id=this.id+"-year-next",nextSlider.insertAdjacentHTML("beforeend",nextSvg),theContainers[e].appendChild(nextSlider))):(theContainers[e].style.backgroundColor=this.colors[0],theContainers[e].style.color=this.colors[2],backSlider=document.createElement("DIV"),backSlider.id=this.id+"-month-back",backSlider.insertAdjacentHTML("beforeend",backSvg),theContainers[e].appendChild(backSlider),theText=document.createElement("SPAN"),theText.id=this.id+"-"+theNames[e],theContainers[e].appendChild(theText),nextSlider=document.createElement("DIV"),nextSlider.id=this.id+"-month-next",nextSlider.insertAdjacentHTML("beforeend",nextSvg),theContainers[e].appendChild(nextSlider)));for(e=0;e<this.labels.length;e++)theLabel=document.createElement("SPAN"),theLabel.id=this.id+"-label-"+(e+1),theLabel.appendChild(document.createTextNode(this.labels[e])),theContainers[2].appendChild(theLabel);theRows=[],theDays=[],theRadios=[];for(e=0;e<6;e++)theRows[e]=document.createElement("DIV"),theRows[e].className="row";e=0;for(var t=0;e<42;e++)theRadios[e]=document.createElement("INPUT"),theRadios[e].className="day-radios",theRadios[e].type="radio",theRadios[e].name=this.id+"-day-radios",theRadios[e].id=this.id+"-day-radio-"+(e+1),theDays[e]=document.createElement("LABEL"),theDays[e].className="day",theDays[e].htmlFor=this.id+"-day-radio-"+(e+1),theDays[e].id=this.id+"-day-"+(e+1),theText=document.createElement("SPAN"),theText.id=this.id+"-day-num-"+(e+1),theDays[e].appendChild(theText),theRows[t].appendChild(theRadios[e]),theRows[t].appendChild(theDays[e]),(e+1)%7==0&&t++;for(e=0;e<6;e++)theContainers[3].appendChild(theRows[e]);for(e=0;e<theContainers.length;e++)theCalendar.appendChild(theContainers[e]);document.getElementById(this.id).appendChild(theCalendar)},Calendar.prototype.update=function(){for(document.getElementById(this.id+"-year").innerHTML=this.date.getFullYear(),document.getElementById(this.id+"-month").innerHTML=months[this.date.getMonth()],i=1;i<=42;i++)document.getElementById(this.id+"-day-num-"+i).innerHTML="",document.getElementById(this.id+"-day-"+i).className=this.id+" day";if(firstDay=new Date(this.date.getFullYear(),this.date.getMonth(),1).getDay(),lastDay=new Date(11<this.date.getMonth()+1?this.date.getFullYear()+1:this.date.getFullYear(),12<this.date.getMonth()+1?0:this.date.getMonth()+1,0).getDate(),previousLastDay=new Date(this.date.getMonth()<0?this.date.getFullYear()-1:this.date.getFullYear(),this.date.getMonth()<0?11:this.date.getMonth(),0).getDate(),0!=firstDay)for(i=0,j=previousLastDay;i<this.label.indexOf(label[firstDay]);i++,j--)document.getElementById(this.id+"-day-num-"+(1+i)).innerHTML=j,document.getElementById(this.id+"-day-"+(1+i)).className=this.id+" day diluted";for(i=1;i<=lastDay;i++)document.getElementById(this.id+"-day-num-"+(this.label.indexOf(label[firstDay])+i)).innerHTML=i,i==this.date.getDate()&&(document.getElementById(this.id+"-day-radio-"+(this.label.indexOf(label[firstDay])+i)).checked=!0);for(i=lastDay+1,j=1;this.label.indexOf(label[firstDay])+i<=42;i++,j++)document.getElementById(this.id+"-day-num-"+(this.label.indexOf(label[firstDay])+i)).innerHTML=j,document.getElementById(this.id+"-day-"+(this.label.indexOf(label[firstDay])+i)).className=this.id+" day diluted"},Organizer.prototype={constructor:Organizer,back:function(e){date=this.calendar.date,lastDay=new Date(11<date.getMonth()+1?date.getFullYear()+1:date.getFullYear(),12<date.getMonth()+1?0:date.getMonth()+1,0).getDate(),previousLastDay=new Date(date.getMonth()<0?date.getFullYear()-1:date.getFullYear(),date.getMonth()<0?11:date.getMonth(),0).getDate(),"day"==e?1!=date.getDate()?this.changeDateTo(date.getDate()-1):(this.back("month"),this.changeDateTo(lastDay)):"month"==e?(date.getDate()>previousLastDay&&this.changeDateTo(previousLastDay),0!=date.getMonth()?date.setMonth(date.getMonth()-1):(date.setMonth(11),date.setFullYear(date.getFullYear()-1))):date.setFullYear(date.getFullYear()-1),this.calendar.update(),this.update()},next:function(e){date=this.calendar.date,lastDay=new Date(11<date.getMonth()+1?date.getFullYear()+1:date.getFullYear(),12<date.getMonth()+1?0:date.getMonth()+1,0).getDate(),soonLastDay=new Date(11<date.getMonth()+2?date.getFullYear()+1:date.getFullYear(),12<date.getMonth()+2?0:date.getMonth()+2,0).getDate(),"day"==e?date.getDate()!=lastDay?date.setDate(date.getDate()+1):(this.next("month"),date.setDate(1)):"month"==e?(date.getDate()>soonLastDay&&this.changeDateTo(soonLastDay),11!=date.getMonth()?date.setMonth(date.getMonth()+1):(date.setMonth(0),date.setFullYear(date.getFullYear()+1))):date.setFullYear(date.getFullYear()+1),this.calendar.update(),this.update()},changeDateTo:function(e,t){(31<=t&&e<=11||t<=6&&8<=e)&&(31<=t&&e<=11?this.next("month"):t<=6&&8<=e&&this.back("month")),this.calendar.date.setDate(e),this.calendar.update(),this.update(),calendar=this.calendar,setTimeout(function(){calendar.update()},10)}},Organizer.prototype.draw=function(){backSvg='<svg style="width: 24px; height: 24px;" viewBox="0 0 24 24"><path fill="'+this.calendar.colors[3]+'" d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"></path></svg>',nextSvg='<svg style="width: 24px; height: 24px;" viewBox="0 0 24 24"><path fill="'+this.calendar.colors[3]+'" d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></svg>',theOrganizer=document.createElement("DIV"),theOrganizer.className="events "+this.calendar.size,theDate=document.createElement("DIV"),theDate.className="date",theDate.style.backgroundColor=this.calendar.colors[1],theDate.style.color=this.calendar.colors[3],backSlider=document.createElement("DIV"),backSlider.id=this.id+"-day-back",backSlider.insertAdjacentHTML("beforeend",backSvg),theDate.appendChild(backSlider),theText=document.createElement("SPAN"),theText.id=this.id+"-date",theDate.appendChild(theText),nextSlider=document.createElement("DIV"),nextSlider.id=this.id+"-day-next",nextSlider.insertAdjacentHTML("beforeend",nextSvg),theDate.appendChild(nextSlider),theRows=document.createElement("DIV"),theRows.className="rows",theList=document.createElement("OL"),theList.className="list",theList.id=this.id+"-list",theRows.appendChild(theList),theOrganizer.appendChild(theDate),theOrganizer.appendChild(theRows),document.getElementById(this.id).appendChild(theOrganizer)},Organizer.prototype.update=function(){document.getElementById(this.id+"-date").innerHTML=this.calendar.months[this.calendar.date.getMonth()]+" "+this.calendar.date.getDate()+", "+this.calendar.date.getFullYear(),document.getElementById(this.id+"-list").innerHTML=""},Organizer.prototype.list=function(e){document.getElementById(this.id+"-list").innerHTML="",content="";for(var t=0;t<e.length;t++)content+='<li id="'+this.id+"-list-item-"+t+'"><div><span class="'+this.id+' time" id="'+this.id+"-list-item-"+t+'-time">'+e[t].startTime+" - "+e[t].endTime+'</span><span class="'+this.id+' m" id="'+this.id+"-list-item-"+t+'-m">'+e[t].mTime+'</span></div><p id="'+this.id+"-list-item-"+t+'-text">'+e[t].text+"</p></li>";document.getElementById(this.id+"-list").innerHTML=content},Organizer.prototype.setupBlock=function(e,t,a){document.getElementById(calendarId+"-day-"+e).addEventListener("click",function(){0<document.getElementById(calendarId+"-day-num-"+e).innerHTML.length&&(t.changeDateTo(document.getElementById(calendarId+"-day-num-"+e).innerHTML,e),a())})},Organizer.prototype.setOnClickListener=function(e,t,a){switch(calendarId=this.calendar.id,organizerId=this.id,theOrganizer=this,e){case"days-blocks":for(i=1;i<=42;i++)theOrganizer.setupBlock(i,theOrganizer,t);break;case"day-slider":document.getElementById(organizerId+"-day-back").addEventListener("click",function(){theOrganizer.back("day"),t()}),document.getElementById(organizerId+"-day-next").addEventListener("click",function(){theOrganizer.next("day"),a()});break;case"month-slider":document.getElementById(calendarId+"-month-back").addEventListener("click",function(){theOrganizer.back("month"),t()}),document.getElementById(calendarId+"-month-next").addEventListener("click",function(){theOrganizer.next("month"),a()});break;case"year-slider":document.getElementById(calendarId+"-year-back").addEventListener("click",function(){theOrganizer.back("year"),t()}),document.getElementById(calendarId+"-year-next").addEventListener("click",function(){theOrganizer.next("year"),a()})}};var calendar=new Calendar("calendarContainer","small",["Wednesday",3],["#e91e63","#c2185b","#ffffff","#f8bbd0"]),organizer=new Organizer("organizerContainer",calendar);function showEvents(){for(theYear=-1,theMonth=-1,theDay=-1,i=0;i<data.years.length;i++)if(calendar.date.getFullYear()==data.years[i].int){theYear=i;break}if(-1!=theYear){for(i=0;i<data.years[theYear].months.length;i++)if(calendar.date.getMonth()+1==data.years[theYear].months[i].int){theMonth=i;break}if(-1!=theMonth){for(i=0;i<data.years[theYear].months[theMonth].days.length;i++)if(calendar.date.getDate()==data.years[theYear].months[theMonth].days[i].int){theDay=i;break}-1!=theDay&&(theEvents=data.years[theYear].months[theMonth].days[theDay].events,organizer.list(theEvents))}}}currentDay=calendar.date.getDate(),data={years:[{int:1999,months:[{int:4,days:[{int:28,events:[{startTime:"6:00",endTime:"6:30",mTime:"pm",text:"Weirdo was born"}]}]}]},{int:(new Date).getFullYear(),months:[{int:(new Date).getMonth()+1,days:[{int:(new Date).getDate(),events:[{startTime:"6:00",endTime:"7:00",mTime:"am",text:"Disponible"},{startTime:"5:45",endTime:"7:15",mTime:"pm",text:"Disponible"},{startTime:"10:00",endTime:"11:00",mTime:"pm",text:"Ocupado"},{startTime:"8:00",endTime:"9:00",mTime:"pm",text:"Ocupado"},{startTime:"5:45",endTime:"7:15",mTime:"pm",text:"Ocupado"},{startTime:"10:00",endTime:"11:00",mTime:"pm",text:"Ocupado"},{startTime:"5:45",endTime:"7:15",mTime:"pm",text:"Ocupado"},{startTime:"10:00",endTime:"11:00",mTime:"pm",text:"Ocupado"},{startTime:"5:45",endTime:"7:15",mTime:"pm",text:"Ocupado"},{startTime:"10:00",endTime:"11:00",mTime:"pm",text:"Ocupado"},{startTime:"5:45",endTime:"7:15",mTime:"pm",text:"Ocupado"},{startTime:"10:00",endTime:"11:00",mTime:"pm",text:"Disponible"},{startTime:"5:45",endTime:"7:15",mTime:"pm",text:"Disponible"},{startTime:"10:00",endTime:"11:00",mTime:"pm",text:"Disponible"}]}]}]}]},showEvents(),organizer.setOnClickListener("day-slider",function(){showEvents(),console.log("Day back slider clicked")},function(){showEvents(),console.log("Day next slider clicked")}),organizer.setOnClickListener("days-blocks",function(){showEvents(),console.log("Day block clicked")},null),organizer.setOnClickListener("month-slider",function(){showEvents(),console.log("Month back slider clicked")},function(){showEvents(),console.log("Month next slider clicked")}),organizer.setOnClickListener("year-slider",function(){showEvents(),console.log("Year back slider clicked")},function(){showEvents(),console.log("Year next slider clicked")});